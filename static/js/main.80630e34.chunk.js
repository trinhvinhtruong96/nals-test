(this["webpackJsonpnals-test"]=this["webpackJsonpnals-test"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(24),s=n.n(r),i=n(42),l=(n(51),n(19)),o=n(16),u=n(2),d=function(){return Object(u.jsx)("h1",{className:"text-center text-black-50",children:"Internal Server Error"})},j=function(){return Object(u.jsx)("h1",{className:"text-center text-black-50",children:"Not Found"})},b=n(10),p=n(41),m=n.n(p),O=function(e,t){return Object(b.a)(Object(b.a)({},e),t)},h=function(e,t){return m()(e).format(t||"DD/MM/YYYY")},x="GET_BLOGS_START",f="GET_BLOGS_SUCCESS",g="GET_BLOGS_FAIL",v="GET_BLOG_DETAIL_START",N="GET_BLOG_DETAIL_SUCCESS",y="GET_BLOG_DETAIL_FAIL",k=function(e){return{type:g,payload:e}},w=function(e){return{type:y,payload:e}},_=Object(l.b)((function(e){return{article:e.blogs.articleDetail}}),(function(e){return{onGetArticleDetail:function(t){return e({type:v,payload:t})}}}))((function(e){var t=e.article,n=e.onGetArticleDetail,a=Object(i.g)();return Object(c.useEffect)((function(){n(a.id)}),[]),Object(u.jsx)(u.Fragment,{children:t?Object(u.jsxs)("div",{className:"card mb-3 mt-4",children:[Object(u.jsx)("img",{src:t.image,className:"card-img-top",alt:t.title}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:t.title}),Object(u.jsx)("p",{className:"card-text",children:t.content}),Object(u.jsx)("p",{className:"card-text",children:Object(u.jsx)("small",{className:"text-muted",children:h(t.createdAt,"dddd, MMMM Do YYYY, h:mm:ss a")})})]})]}):Object(u.jsx)("h1",{className:"text-center text-black-50",children:"Article Not Available!"})})})),S=n(17),E=function(e){var t=e.data,n=e.onPageChange,c=1,a=Array(t.pageNum).fill().map((function(){return c++}));return Object(u.jsx)("nav",{"aria-label":"...",children:Object(u.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(u.jsx)("li",{className:1!==t.page?"page-item":"page-item disabled",onClick:function(){return 1!==t.page&&n(t.page-1)},children:Object(u.jsx)("p",{className:"page-link","aria-disabled":"true",children:"Previous"})}),a.map((function(e,c){return Object(u.jsx)("li",{className:t.page===c+1?"page-item active":"page-item",onClick:function(){return n(c+1)},children:Object(u.jsxs)("p",{className:"page-link",children:[c+1," "]})},e)})),Object(u.jsx)("li",{className:t.page!==t.pageNum?"page-item":"page-item disabled",onClick:function(){return t.page!==t.pageNum&&n(t.page+1)},children:Object(u.jsx)("p",{className:"page-link",children:"Next"})})]})})},T=n(43),B=n.n(T),D=function(e){var t=e.data,n=e.click;return Object(u.jsxs)("li",{className:["media mb-3 pb-3 list-view-item align-items-stretch",B.a.listViewItem].join(" "),children:[Object(u.jsx)("img",{src:t.image,className:"col-4 mr-3 px-0",alt:t.title,style:{cursor:"pointer"},onClick:n}),Object(u.jsxs)("div",{className:"media-body d-flex flex-column",children:[Object(u.jsx)("h5",{className:"mt-0 mb-1",children:t.title}),Object(u.jsx)("p",{children:t.content}),Object(u.jsx)("small",{className:"text-muted mt-auto ml-auto",children:h(t.createdAt,"dddd, MMMM Do YYYY, h:mm:ss a")})]})]})},C=function(e){var t=e.items,n=Object(i.e)(),a=Object(c.useState)({page:1,limit:12,pageNum:0}),r=Object(o.a)(a,2),s=r[0],l=r[1],d=Object(c.useState)([]),j=Object(o.a)(d,2),p=j[0],m=j[1];return Object(c.useEffect)((function(){var e=Math.ceil(t.length/s.limit);l(Object(b.a)(Object(b.a)({},s),{},{pageNum:e,page:1}))}),[t]),Object(c.useEffect)((function(){!function(){var e=(s.page-1)*s.limit,n=e+12;m(t.slice(e,n))}()}),[s]),Object(u.jsxs)("ul",{className:"list-unstyled",children:[p&&p.map((function(e){return Object(u.jsx)(D,{data:e,click:function(){return n.push(G.detail.replace(":id",e.id))}},e.id)})),0!==t.length&&Object(u.jsx)(E,{data:s,onPageChange:function(e){l(Object(b.a)(Object(b.a)({},s),{},{page:e}))}}),0===t.length&&Object(u.jsx)("h1",{className:"text-center text-black-50",children:"No Article"})]})},A=function(e){var t=e.searchText,n=e.order,c=Object(i.e)(),a=Object(i.f)();return Object(u.jsxs)("div",{className:"bg-dark text-white p-2 d-flex align-items-center",children:[t?Object(u.jsxs)("p",{className:"mr-auto mb-0",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["Result for",Object(u.jsx)("strong",{children:" ".concat(t)})]}):Object(u.jsx)("div",{className:"mr-auto"}),Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"desc"===n?"Newest":"asc"===n?"Oldest":"Sort"}),Object(u.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(u.jsx)("p",{className:"dropdown-item",onClick:function(){var e=S.parse(a.search).search;e||(e="");var t="?search=".concat(e,"&sortBy=createdAt&order=desc"),n=a.pathname+t;c.push(n)},children:"Newest"}),Object(u.jsx)("p",{className:"dropdown-item",onClick:function(){var e=S.parse(a.search).search;e||(e="");var t="?search=".concat(e,"&sortBy=createdAt&order=asc"),n=a.pathname+t;c.push(n)},children:"Oldest"})]})]})]})},L=Object(l.b)((function(e){return{blogs:e.blogs.list}}),(function(e){return{onGetBlogs:function(t){return e({type:x,payload:t})}}}))((function(e){var t=e.onGetBlogs,n=e.blogs,a=Object(c.useState)({search:null,sortBy:null,order:"asc"}),r=Object(o.a)(a,2),s=r[0],l=r[1],d=Object(i.f)();return Object(c.useEffect)((function(){t()}),[]),Object(c.useEffect)((function(){var e=Object(b.a)(Object(b.a)({},s),{},{search:S.parse(d.search).search,sortBy:S.parse(d.search).sortBy,order:S.parse(d.search).order});l(e),t(e)}),[d.search]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)("div",{className:"mb-3",children:Object(u.jsx)(A,{searchText:s.search,order:s.order})}),Object(u.jsx)(C,{items:n})]})})})),G={home:"/nals-test",detail:"/nals-test/detail/:id",notFound:"/nals-test/notfound",internalServerError:"/nals-test/internalServerError"},I=[{path:G.home,exact:!0,main:function(){return Object(u.jsx)(L,{})}},{path:G.detail,exact:!0,main:function(){return Object(u.jsx)(_,{})}},{path:G.notFound,exact:!0,main:function(){return Object(u.jsx)(j,{})}},{path:G.internalServerError,exact:!0,main:function(){return Object(u.jsx)(d,{})}}],M=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(i.e)(),s=function(e){e.preventDefault();var t="?search=".concat(n),c=G.home+t;a(""),r.push(c)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("nav",{className:"navbar navbar-dark bg-dark fixed-top",children:[Object(u.jsx)("p",{className:"navbar-brand mb-0",style:{cursor:"pointer"},onClick:function(){return r.push(G.home)},children:"Navbar"}),Object(u.jsxs)("form",{className:"form-inline flex-nowrap",style:{width:"40%"},children:[Object(u.jsx)("input",{className:"form-control mr-2 col-10",value:n,type:"search",placeholder:"Search","aria-label":"Search",onChange:function(e){a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&s(e)}}),Object(u.jsx)("button",{className:"btn btn-outline-info my-2 my-sm-0",onClick:s,children:"Search"})]}),Object(u.jsx)("div",{})]}),Object(u.jsx)("div",{style:{height:"56px"}})]})},F=function(e){var t=e.children;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(M,{}),Object(u.jsx)("main",{className:"container",children:t})]})},Y=function(){var e=Object(u.jsxs)(i.d,{children:[I.map((function(e){return Object(u.jsx)(i.b,{path:e.path,exact:e.exact,component:e.main},e.path)})),Object(u.jsx)(i.a,{to:"/"})]});return Object(u.jsx)(F,{children:Object(u.jsx)(c.Suspense,{fallback:Object(u.jsx)("p",{children:"Loading..."}),children:e})})},P=n(22),R=n(44),U=n.n(R),V=n(45),X=n.n(V),J=function(){return Object(P.usePromiseTracker)().promiseInProgress&&Object(u.jsx)("div",{className:X.a.loading,children:Object(u.jsx)(U.a,{type:"Rings",color:"#009DDC"})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,101)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},q=n(15),z=n(46),H={list:[],articleDetail:null},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,n=t.payload,c=t.type;switch(c){case f:return O(e,{list:n});case g:return O(e,{list:[]});case N:return O(e,{articleDetail:n});case y:return O(e,{articleDetail:null});default:return e}},W=function(){return Object(q.b)({blogs:Q})},Z=n(12),$=n.n(Z),ee=n(8),te=n(18),ne=n.n(te),ce=n(13),ae=Object(ce.a)();ne.a.defaults.baseURL="https://5f55a98f39221c00167fb11a.mockapi.io/",ne.a.interceptors.response.use(void 0,(function(e){var t=e.response.status;throw 404===t&&ae.push(G.notFound),500===t&&ae.push(G.internalServerError),e}));var re=function(e){return e.data},se=function(e,t){return ne.a.get(e,{params:t}).then(re)},ie={Blogs:{list:function(e){return Object(P.trackPromise)(se("/blogs",e))},details:function(e){return Object(P.trackPromise)(se("/blogs/".concat(e)))}}},le=$.a.mark(de),oe=$.a.mark(je),ue=$.a.mark(be);function de(e){var t;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(ee.b)(ie.Blogs.list,e.payload);case 3:if(t=n.sent){n.next=9;break}return n.next=7,Object(ee.c)(k());case 7:n.next=11;break;case 9:return n.next=11,Object(ee.c)({type:f,payload:t});case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(ee.c)(k());case 17:case"end":return n.stop()}}),le,null,[[0,13]])}function je(e){var t;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(ee.b)(ie.Blogs.details,e.payload);case 3:if(t=n.sent){n.next=9;break}return n.next=7,Object(ee.c)(w());case 7:n.next=11;break;case 9:return n.next=11,Object(ee.c)({type:N,payload:t});case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(ee.c)(w());case 17:case"end":return n.stop()}}),oe,null,[[0,13]])}function be(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.d)(x,de);case 2:return e.next=4,Object(ee.d)(v,je);case 4:case"end":return e.stop()}}),ue)}var pe=$.a.mark(me);function me(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.a)([be()]);case 2:case"end":return e.stop()}}),pe)}var Oe=Object(z.a)();var he=function(e){var t=Object(q.d)(W(),e,Object(q.c)(Object(q.a)(Oe),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return Oe.run(me),t}();s.a.render(Object(u.jsxs)(a.a.StrictMode,{children:[Object(u.jsx)(J,{}),Object(u.jsx)(l.a,{store:he,children:Object(u.jsx)(i.c,{history:ae,children:Object(u.jsx)(Y,{})})})]}),document.getElementById("root")),K()},43:function(e,t,n){e.exports={listViewItem:"BlogItem_listViewItem__2eNAw"}},45:function(e,t,n){e.exports={loading:"Loading_loading__3OM6x"}},51:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.80630e34.chunk.js.map